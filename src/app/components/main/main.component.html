<div class="main">
    <div id="blurredBackground" style="display: none;"></div>
    <app-left-side-panel id="profileMenu" (blurredBackgroundRemoveEmit)="blurredBackgroundRemove()"></app-left-side-panel>

    <div class="leftColumn">
        <div class="leftColumnHeader">
            <div class="leftMenu">
            <button class="image-button" (click)="openLeftMenu()" style="padding: 10px; border: none; background-color: transparent;">
                <svg width="30" height="18" viewBox="0 0 30 18" fill="transparent" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 16C0 14.8954 0.895431 14 2 14H28C29.1046 14 30 14.8954 30 16C30 17.1046 29.1046 18 28 18H2C0.89543 18 0 17.1046 0 16Z" fill="#898989"/>
                <path d="M0 9C0 7.89543 0.895431 7 2 7H28C29.1046 7 30 7.89543 30 9C30 10.1046 29.1046 11 28 11H2C0.89543 11 0 10.1046 0 9Z" fill="#898989"/>
                <path d="M0 2C0 0.895431 0.895431 0 2 0H28C29.1046 0 30 0.895431 30 2C30 3.10457 29.1046 4 28 4H2C0.89543 4 0 3.10457 0 2Z" fill="#898989"/>
                </svg>
            </button>
            </div>
            <div class="search" *ngIf="!isForwarding">
            <input class="searchInput" type="text" placeholder="Поиск" [(ngModel)]="searchText" autocomplete="off">
            </div>
            <div class="search" [ngClass]="{'forwarding': isForwarding}" *ngIf="isForwarding"><p>Выберите кому переслать:</p></div>
        </div>

        <div id="modal_search_all" *ngIf="searchText !== ''">
            <button id="answer_list" *ngFor="let message of foundMessages" (click)="goToMessage(message.chat?.id, message.id)">
                <div class="chatIcon"></div>
                <div class="infoFindMessage">
                    <h2>{{ message.chat?.title }}</h2> 
                    <div class="messageInfo">
                        <p>{{ message.sender?.surname }} {{ message.sender?.name }}</p>
                        <p>: {{ message.text }}</p>
                    </div>
                </div>
            </button>
        </div>
        <app-chat-preview class="chats" *ngIf="searchText === ''"></app-chat-preview>

    </div>

    <div id="mainScreen" class="middleColumn">
        <div class="mainIcon">
            <svg viewBox="0 0 290.436 179.325" xmlns="http://www.w3.org/2000/svg" style="filter: blur(5px);">
            <mask id="path-1-inside-1_76_1329" fill="white">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M 83.26 11.652 C 83.26 6.129 87.737 1.652 93.26 1.652 L 171.26 1.652 C 176.783 1.652 181.26 6.129 181.26 11.652 L 181.26 45.652 C 181.26 51.175 176.783 55.652 171.26 55.652 L 99.714 55.652 L 66.806 55.652 C 66.806 55.652 72.26 55.652 76.76 52.652 C 81.26 49.652 82.26 48.152 83.26 46.152 C 83.264 46.145 83.268 46.138 83.271 46.131 C 83.264 45.972 83.26 45.813 83.26 45.652 L 83.26 11.652 Z M 65.26 31.152 C 65.26 44.683 54.291 55.652 40.76 55.652 C 27.229 55.652 16.26 44.683 16.26 31.152 C 16.26 17.621 27.229 6.652 40.76 6.652 C 54.291 6.652 65.26 17.621 65.26 31.152 Z M 80.578 100.151 L 80.469 100.298 C 74.214 108.715 70.2 114.116 59.76 113.652 C 51.287 113.275 46.998 108.928 42.663 104.535 C 35.487 97.263 28.187 89.865 1.578 100.151 C 1.578 77.784 19.263 59.651 41.078 59.651 C 62.893 59.651 80.578 77.784 80.578 100.151 Z"/>
            </mask>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M 83.26 11.652 C 83.26 6.129 87.737 1.652 93.26 1.652 L 171.26 1.652 C 176.783 1.652 181.26 6.129 181.26 11.652 L 181.26 45.652 C 181.26 51.174 176.783 55.652 171.26 55.652 L 99.715 55.652 L 66.806 55.652 C 66.806 55.652 72.26 55.652 76.76 52.652 C 81.26 49.652 82.26 48.152 83.26 46.152 C 83.264 46.144 83.268 46.138 83.272 46.131 C 83.264 45.972 83.26 45.812 83.26 45.652 L 83.26 11.652 Z M 65.26 31.152 C 65.26 44.683 54.291 55.652 40.76 55.652 C 27.229 55.652 16.26 44.683 16.26 31.152 C 16.26 17.621 27.229 6.652 40.76 6.652 C 54.291 6.652 65.26 17.621 65.26 31.152 Z M 80.578 100.151 L 80.469 100.298 C 74.214 108.715 70.2 114.116 59.76 113.652 C 51.287 113.275 46.998 108.928 42.663 104.535 C 35.487 97.262 28.187 89.865 1.578 100.151 C 1.578 77.783 19.263 59.651 41.078 59.651 C 62.893 59.651 80.578 77.783 80.578 100.151 Z" fill="#353535"/>
            <path d="M 171.26 55.652 L 171.26 54.652 L 171.26 55.652 Z M 99.715 55.652 L 99.715 56.652 L 99.715 55.652 Z M 66.806 55.652 L 66.806 54.652 L 66.806 56.652 L 66.806 55.652 Z M 83.26 46.152 L 84.155 46.599 L 84.155 46.598 L 83.26 46.152 Z M 83.272 46.131 L 84.137 46.632 L 84.284 46.378 L 84.27 46.084 L 83.272 46.131 Z M 80.469 100.298 L 79.666 99.701 L 80.469 100.298 Z M 80.578 100.151 L 81.381 100.747 L 81.578 100.482 L 81.578 100.151 L 80.578 100.151 Z M 59.76 113.652 L 59.716 114.651 L 59.76 113.652 Z M 42.663 104.535 L 41.951 105.238 L 42.663 104.535 Z M 1.578 100.151 L 0.578 100.151 L 0.578 101.61 L 1.939 101.084 L 1.578 100.151 Z M 93.26 0.652 C 87.185 0.652 82.26 5.576 82.26 11.652 L 84.26 11.652 C 84.26 6.681 88.29 2.652 93.26 2.652 L 93.26 0.652 Z M 171.26 0.652 L 93.26 0.652 L 93.26 2.652 L 171.26 2.652 L 171.26 0.652 Z M 182.26 11.652 C 182.26 5.576 177.335 0.652 171.26 0.652 L 171.26 2.652 C 176.231 2.652 180.26 6.681 180.26 11.652 L 182.26 11.652 Z M 182.26 45.652 L 182.26 11.652 L 180.26 11.652 L 180.26 45.652 L 182.26 45.652 Z M 171.26 56.652 C 177.335 56.652 182.26 51.727 182.26 45.652 L 180.26 45.652 C 180.26 50.622 176.231 54.652 171.26 54.652 L 171.26 56.652 Z M 99.715 56.652 L 171.26 56.652 L 171.26 54.652 L 99.715 54.652 L 99.715 56.652 Z M 66.806 56.652 L 99.715 56.652 L 99.715 54.652 L 66.806 54.652 L 66.806 56.652 Z M 76.206 51.82 C 74.104 53.221 71.754 53.935 69.904 54.295 C 68.984 54.474 68.199 54.564 67.648 54.608 C 67.373 54.63 67.156 54.641 67.012 54.646 C 66.939 54.649 66.885 54.65 66.85 54.651 C 66.833 54.651 66.82 54.652 66.813 54.652 C 66.809 54.652 66.806 54.652 66.805 54.652 C 66.805 54.652 66.804 54.652 66.805 54.652 C 66.805 54.652 66.805 54.652 66.805 54.652 C 66.805 54.652 66.805 54.652 66.805 54.652 C 66.805 54.652 66.806 54.652 66.806 55.652 C 66.806 56.652 66.806 56.652 66.806 56.652 C 66.806 56.652 66.807 56.652 66.807 56.652 C 66.808 56.652 66.808 56.652 66.809 56.652 C 66.81 56.652 66.812 56.652 66.814 56.652 C 66.818 56.652 66.824 56.652 66.83 56.652 C 66.844 56.651 66.862 56.651 66.886 56.651 C 66.933 56.65 67 56.648 67.086 56.645 C 67.257 56.639 67.502 56.626 67.809 56.602 C 68.421 56.552 69.281 56.454 70.287 56.258 C 72.289 55.868 74.917 55.082 77.315 53.484 L 76.206 51.82 Z M 82.366 45.704 C 81.888 46.661 81.438 47.441 80.593 48.343 C 79.731 49.263 78.427 50.339 76.206 51.82 L 77.315 53.484 C 79.594 51.965 81.04 50.791 82.052 49.711 C 83.082 48.612 83.633 47.642 84.155 46.599 L 82.366 45.704 Z M 82.406 45.629 C 82.393 45.653 82.379 45.678 82.366 45.705 L 84.155 46.598 C 84.149 46.611 84.143 46.622 84.137 46.632 L 82.406 45.629 Z M 82.26 45.652 C 82.26 45.828 82.264 46.003 82.273 46.178 L 84.27 46.084 C 84.264 45.941 84.26 45.797 84.26 45.652 L 82.26 45.652 Z M 82.26 11.652 L 82.26 45.652 L 84.26 45.652 L 84.26 11.652 L 82.26 11.652 Z M 40.76 56.652 C 54.844 56.652 66.26 45.235 66.26 31.152 L 64.26 31.152 C 64.26 44.13 53.739 54.652 40.76 54.652 L 40.76 56.652 Z M 15.26 31.152 C 15.26 45.235 26.677 56.652 40.76 56.652 L 40.76 54.652 C 27.782 54.652 17.26 44.13 17.26 31.152 L 15.26 31.152 Z M 40.76 5.652 C 26.677 5.652 15.26 17.068 15.26 31.152 L 17.26 31.152 C 17.26 18.173 27.782 7.652 40.76 7.652 L 40.76 5.652 Z M 66.26 31.152 C 66.26 17.068 54.844 5.652 40.76 5.652 L 40.76 7.652 C 53.739 7.652 64.26 18.173 64.26 31.152 L 66.26 31.152 Z M 81.272 100.894 L 81.381 100.747 L 79.776 99.554 L 79.666 99.701 L 81.272 100.894 Z M 59.716 114.651 C 65.146 114.893 68.995 113.601 72.288 111.102 C 75.515 108.654 78.17 105.068 81.272 100.894 L 79.666 99.701 C 76.513 103.945 74.033 107.268 71.079 109.509 C 68.192 111.699 64.814 112.876 59.805 112.653 L 59.716 114.651 Z M 41.951 105.238 C 46.293 109.637 50.824 114.256 59.716 114.651 L 59.805 112.653 C 51.751 112.295 47.703 108.219 43.375 103.833 L 41.951 105.238 Z M 1.939 101.084 C 15.162 95.972 23.411 95.327 29.172 96.73 C 34.912 98.128 38.353 101.59 41.951 105.238 L 43.375 103.833 C 39.798 100.207 36 96.334 29.645 94.787 C 23.309 93.244 14.603 94.044 1.218 99.218 L 1.939 101.084 Z M 41.078 58.651 C 18.687 58.651 0.578 77.255 0.578 100.151 L 2.578 100.151 C 2.578 78.312 19.839 60.651 41.078 60.651 L 41.078 58.651 Z M 81.578 100.151 C 81.578 77.255 63.469 58.651 41.078 58.651 L 41.078 60.651 C 62.318 60.651 79.578 78.312 79.578 100.151 L 81.578 100.151 Z" fill="#353535" mask="url(#path-1-inside-1_76_1329)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M 206.454 75.66 C 206.454 70.137 201.977 65.66 196.454 65.66 L 118.652 65.66 C 113.13 65.66 108.652 70.137 108.652 75.66 L 108.652 109.66 C 108.652 115.183 113.13 119.66 118.652 119.66 L 190.033 119.66 L 222.875 119.66 C 222.875 119.66 217.431 119.66 212.94 116.66 C 208.449 113.66 207.452 112.16 206.454 110.16 C 206.45 110.153 206.446 110.146 206.443 110.139 C 206.45 109.98 206.454 109.82 206.454 109.66 L 206.454 75.66 Z M 224.97 95.16 C 224.97 108.691 235.715 119.66 248.97 119.66 C 262.225 119.66 272.97 108.691 272.97 95.16 C 272.97 81.629 262.225 70.66 248.97 70.66 C 235.715 70.66 224.97 81.629 224.97 95.16 Z M 208.97 164.138 L 209.079 164.285 C 215.334 172.698 219.348 178.096 229.788 177.632 C 238.261 177.256 242.55 172.911 246.885 168.52 C 254.061 161.251 261.361 153.858 287.97 164.138 C 287.97 141.783 270.285 123.66 248.47 123.66 C 226.655 123.66 208.97 141.783 208.97 164.138 Z" fill="#FF3C00"/>
            </svg>
        </div>
    </div>

    <div id="chat" style="display: none">
        <router-outlet></router-outlet>
    </div>

</div>